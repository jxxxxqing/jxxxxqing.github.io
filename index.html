<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸è·¯eæ ˆ Â· å›½åˆ«é£é™©åˆè§„ä¸“å®¶</title>
    <!-- Inter å­—ä½“ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300;14..32,400;14..32,500;14..32,600;14..32,700&display=swap" rel="stylesheet">
    <!-- Font Awesome å›¾æ ‡åº“ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* åŸæœ‰æ ·å¼ä¿æŒä¸å˜ï¼ˆç•¥ï¼‰ï¼Œä¸ºèŠ‚çœç¯‡å¹…æ­¤å¤„çœç•¥ï¼Œå®é™…ä½¿ç”¨æ—¶è¯·ä¿ç•™ä¹‹å‰çš„æ‰€æœ‰æ ·å¼ */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', 'æ€æºé»‘ä½“', 'Microsoft YaHei', sans-serif;
            background-color: #F8F9FA;
            color: #0A2540;
            line-height: 1.5;
            min-height: 100vh;
        }
        .app-container { max-width: 1280px; margin: 0 auto; padding: 0 32px; position: relative; }
        .page { display: none; animation: fadeSlide 0.5s ease-out; padding: 24px 0 60px; }
        .page.active { display: block; }
        @keyframes fadeSlide {
            0% { opacity: 0.3; transform: translateY(12px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .btn {
            display: inline-flex; align-items: center; justify-content: center;
            padding: 12px 28px; border-radius: 60px; font-weight: 600;
            font-size: 1rem; border: none; cursor: pointer;
            transition: all 0.2s ease; box-shadow: 0 6px 14px rgba(10,37,64,0.08);
            gap: 8px; text-decoration: none; letter-spacing: 0.3px;
        }
        .btn-primary {
            background: linear-gradient(145deg, #F4A261, #E76F51);
            color: white;
            box-shadow: 0 8px 20px rgba(231,111,81,0.3);
        }
        .btn-primary:hover {
            background: linear-gradient(145deg, #E76F51, #F4A261);
            transform: translateY(-3px);
            box-shadow: 0 12px 28px rgba(231,111,81,0.4);
        }
        .btn-outline {
            background: transparent;
            border: 2px solid rgba(10,37,64,0.2);
            color: #0A2540;
            box-shadow: none;
        }
        .btn-outline:hover {
            border-color: #F4A261;
            background: rgba(244,162,97,0.04);
            transform: translateY(-3px);
        }
        .btn-secondary {
            background: white;
            color: #0A2540;
            border: 1px solid #E2E8F0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.02);
        }
        .btn-secondary:hover {
            background: #F8F9FA;
            border-color: #F4A261;
        }
        .btn-sm { padding: 8px 20px; font-size: 0.9rem; }

        h1, h2, h3 { font-weight: 600; letter-spacing: -0.02em; }
        h1 { font-size: 3.2rem; line-height: 1.2; margin-bottom: 1rem; font-weight: 700; }
        h2 { font-size: 2rem; margin-bottom: 1.5rem; }

        .navbar {
            display: flex; align-items: center; justify-content: space-between;
            padding: 16px 0; margin-bottom: 24px; border-bottom: 1px solid rgba(10,37,64,0.06);
            flex-wrap: wrap; gap: 16px;
        }
        .logo-area { display: flex; align-items: baseline; gap: 8px; flex-wrap: wrap; }
        .logo-main { font-size: 1.8rem; font-weight: 700; color: #0A2540; }
        .logo-main span { color: #F4A261; }
        .logo-tagline { font-size: 0.9rem; color: #5A6B7A; font-weight: 500; border-left: 2px solid #F4A261; padding-left: 12px; }
        .nav-links { display: flex; gap: 24px; font-weight: 500; flex-wrap: wrap; }
        .nav-links a { text-decoration: none; color: #0A2540; cursor: pointer; transition: color 0.2s; }
        .nav-links a:hover { color: #F4A261; }
        .auth-buttons { display: flex; gap: 12px; align-items: center; }
        #user-greeting { font-weight: 600; color: #0A2540; display: none; align-items: center; gap: 8px; }

        .card {
            background: white; border-radius: 28px; padding: 28px 24px;
            box-shadow: 0 12px 36px rgba(10,37,64,0.06);
            transition: transform 0.2s, box-shadow 0.2s; border: 1px solid rgba(244,162,97,0.08);
        }
        .card:hover { transform: translateY(-5px); box-shadow: 0 24px 48px rgba(10,37,64,0.12); }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; }

        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(10,37,64,0.5); backdrop-filter: blur(6px);
            align-items: center; justify-content: center; z-index: 1000;
        }
        .modal.active { display: flex; }
        .modal-content {
            background: white; border-radius: 40px; padding: 40px; max-width: 400px; width: 90%;
            box-shadow: 0 30px 60px rgba(10,37,64,0.4); position: relative;
        }
        .modal-close {
            position: absolute; top: 20px; right: 24px; font-size: 28px; cursor: pointer; color: #5A6B7A;
            transition: color 0.2s;
        }
        .modal-close:hover { color: #E76F51; }
        .modal-content input {
            width: 100%; padding: 14px 20px; border-radius: 60px; border: 1px solid #E2E8F0;
            margin: 16px 0; font-size: 1rem; transition: border 0.2s;
        }
        .modal-content input:focus { outline: none; border-color: #F4A261; }

        .ai-uploader {
            background: white; border: 2px dashed #CBD5E0; border-radius: 60px;
            padding: 6px 6px 6px 24px; display: flex; align-items: center; gap: 8px;
            margin: 20px 0; transition: border-color 0.2s;
        }
        .ai-uploader:focus-within { border-color: #F4A261; }
        .ai-uploader input {
            flex: 1; border: none; background: transparent; padding: 12px 0; font-size: 1rem;
            outline: none;
        }
        #ai-result { background: #F8F9FA; border-radius: 24px; padding: 24px; margin-top: 16px; }

        .process-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 24px;
            margin: 40px 0;
        }
        .process-card {
            background: white;
            border-radius: 28px;
            padding: 30px 20px;
            text-align: center;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s;
            box-shadow: 0 6px 20px rgba(0,0,0,0.02);
        }
        .process-card:hover {
            border-color: #F4A261;
            transform: translateY(-4px);
            box-shadow: 0 12px 28px rgba(244,162,97,0.1);
        }
        .process-card.selected {
            border-color: #E76F51;
            background: #FFF8F0;
        }

        .query-header {
            background: white;
            border-radius: 32px;
            padding: 32px 40px;
            margin-bottom: 32px;
            box-shadow: 0 8px 28px rgba(10,37,64,0.04);
            border: 1px solid rgba(244,162,97,0.1);
        }
        .query-header h1 {
            font-size: 2.2rem;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #0A2540, #1A3A5F);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .query-header p { color: #5A6B7A; font-size: 1.1rem; }
        .process-badge {
            background: #FFF8F0;
            border: 1px solid #F4A26140;
            border-radius: 60px;
            padding: 16px 28px;
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 28px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.02);
        }
        .process-badge i { font-size: 2rem; color: #F4A261; }
        .process-badge span { font-size: 1.2rem; font-weight: 500; color: #0A2540; }
        .process-badge strong {
            background: #E76F51; color: white; padding: 6px 20px; border-radius: 40px;
            font-size: 1rem; margin-left: 12px;
        }
        .query-control-card {
            background: white; border-radius: 28px; padding: 32px;
            box-shadow: 0 12px 36px rgba(10,37,64,0.04); border: 1px solid rgba(244,162,97,0.08);
        }
        .query-row { display: flex; gap: 20px; align-items: flex-end; flex-wrap: wrap; }
        .query-field { flex: 2; min-width: 280px; }
        .query-field label { font-weight: 600; color: #0A2540; margin-bottom: 10px; display: block; font-size: 0.95rem; }
        .query-field select {
            width: 100%; padding: 16px 24px; border-radius: 60px; border: 1px solid #E2E8F0;
            background: white; font-size: 1rem; transition: all 0.2s;
            appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%230A2540' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat; background-position: right 20px center; background-size: 16px;
        }
        .query-field select:focus { border-color: #F4A261; box-shadow: 0 0 0 3px rgba(244,162,97,0.1); outline: none; }
        .query-actions { display: flex; gap: 16px; flex-wrap: wrap; }

        .risk-item {
            background: white; border-radius: 24px; padding: 28px; margin-bottom: 20px;
            border-left: 6px solid #E76F51; box-shadow: 0 12px 24px rgba(10,37,64,0.04);
        }
        .risk-item strong { font-size: 1.1rem; display: block; margin-bottom: 16px; }
        .risk-item p { margin: 8px 0; display: flex; gap: 8px; }
        .risk-item i { color: #F4A261; width: 20px; margin-top: 3px; }
        .result-pager {
            display: flex; justify-content: center; align-items: center; gap: 16px; margin: 28px 0;
        }
        .pager-btn {
            background: #0A2540; color: white; border: none; padding: 8px 24px;
            border-radius: 60px; font-weight: 600; cursor: pointer; transition: background 0.2s;
        }
        .pager-btn:hover:not(:disabled) { background: #F4A261; }
        .pager-btn:disabled { opacity: 0.4; cursor: not-allowed; }

        .resources-wrapper { display: flex; gap: 30px; margin-top: 30px; }
        .articles-grid {
            flex: 2; display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px;
        }
        .article-card {
            background: white; border-radius: 28px; padding: 28px 24px;
            box-shadow: 0 12px 36px rgba(10,37,64,0.04); border: 1px solid rgba(244,162,97,0.08);
            transition: all 0.2s;
        }
        .article-card:hover { transform: translateY(-5px); box-shadow: 0 24px 48px rgba(10,37,64,0.12); }
        .article-card h3 { font-size: 1.3rem; margin-bottom: 12px; color: #0A2540; }
        .article-card p { color: #5A6B7A; font-size: 0.95rem; margin-bottom: 20px; line-height: 1.6; }
        .article-link {
            color: #E76F51; font-weight: 600; cursor: pointer; display: inline-flex; align-items: center; gap: 6px;
            transition: color 0.2s;
        }
        .article-link:hover { color: #F4A261; }
        .article-detail {
            margin-top: 20px; padding-top: 20px; border-top: 1px solid #E2E8F0;
            display: none; color: #3E5A70; font-size: 0.95rem;
        }
        .article-detail.active { display: block; }

        .wechat-card {
            flex: 1; background: white; border-radius: 28px; padding: 32px 24px;
            box-shadow: 0 12px 36px rgba(10,37,64,0.04); border: 1px solid rgba(244,162,97,0.08);
            text-align: center; display: flex; flex-direction: column; align-items: center;
        }
        .wechat-icon { font-size: 3.5rem; color: #F4A261; margin-bottom: 16px; }
        .wechat-card h3 { font-size: 1.5rem; margin-bottom: 8px; }
        .wechat-sub { color: #5A6B7A; margin-bottom: 24px; }
        .qr-placeholder {
            width: 160px; height: 160px; margin: 16px auto;
            border: 2px dashed #F4A261; border-radius: 24px; overflow: hidden; background-color: white;
        }
        .qr-placeholder img { width: 100%; height: 100%; object-fit: cover; display: block; }
        .wechat-offer { font-size: 1.1rem; font-weight: 600; color: #0A2540; margin: 16px 0 8px; }
        .wechat-desc {
            color: #5A6B7A; font-size: 0.95rem; max-width: 280px; margin-bottom: 20px; line-height: 1.5;
        }
        .badge-counter {
            background: #0A2540; color: white; padding: 12px 24px; border-radius: 60px;
            font-weight: 600; display: inline-flex; align-items: center; gap: 8px; margin-top: 8px;
        }
        .badge-counter i { color: #F4A261; }

        .database-layout { display: flex; gap: 30px; margin-top: 30px; }
        .filter-sidebar {
            flex: 0 0 260px; background: white; border-radius: 28px; padding: 24px;
            box-shadow: 0 12px 36px rgba(10,37,64,0.04); align-self: start;
        }
        .filter-group { margin-bottom: 24px; }
        .filter-group label { font-weight: 600; display: block; margin-bottom: 10px; color: #0A2540; }
        .filter-group select, .filter-group input {
            width: 100%; padding: 12px 16px; border-radius: 40px; border: 1px solid #E2E8F0; background: #F8F9FA;
        }
        .database-results { flex: 1; }
        .database-card {
            background: white; border-radius: 24px; padding: 24px; margin-bottom: 20px;
            border-left: 4px solid #F4A261; box-shadow: 0 8px 20px rgba(10,37,64,0.04);
        }
        .database-card h4 { margin-bottom: 8px; color: #0A2540; }
        .database-card p { margin: 6px 0; color: #3E5A70; font-size: 0.95rem; }
        .database-card .meta { display: flex; gap: 16px; font-size: 0.85rem; color: #718096; margin-top: 12px; }

        .footer {
            margin-top: 80px; padding: 48px 0 24px; border-top: 1px solid rgba(10,37,64,0.06);
            display: flex; flex-wrap: wrap; justify-content: space-between; color: #5A6B7A;
        }

        @media (max-width: 800px) {
            .articles-grid { grid-template-columns: 1fr; }
            .resources-wrapper { flex-direction: column; }
            .database-layout { flex-direction: column; }
            .query-row { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- å¯¼èˆª -->
        <div class="navbar">
            <div class="logo-area">
                <div class="logo-main">ä¸è·¯<span>eæ ˆ</span></div>
                <div class="logo-tagline">å›½åˆ«é£é™©åˆè§„ä¸“å®¶</div>
            </div>
            <div class="nav-links">
                <a onclick="showPage('intro-page'); return false;">é¦–é¡µ</a>
                <a onclick="showPage('process-page'); return false;">é£é™©åœºæ™¯</a>
                <a onclick="showPage('database-page'); return false;">å›½åˆ«æ•°æ®åº“</a>
                <a onclick="goToSection('pricing-section'); return false;">å®šä»·</a>
                <a onclick="goToSection('resources-section'); return false;">èµ„æºä¸­å¿ƒ</a>
            </div>
            <div class="auth-buttons" id="auth-buttons">
                <span id="user-greeting"></span>
                <button class="btn btn-outline" onclick="openLoginModal()">ç™»å½•</button>
                <button class="btn btn-primary" onclick="openRegisterModal()">æ³¨å†Œ</button>
            </div>
        </div>

        <!-- æ¨¡æ€æ¡†ï¼šç™»å½•/æ³¨å†Œå…±ç”¨ -->
        <div id="modal" class="modal">
            <div class="modal-content" id="modal-content">
                <span class="modal-close" onclick="closeModal()">&times;</span>
                <div id="modal-body"></div>
            </div>
        </div>

        <!-- ç¬¬ä¸€é¡µï¼šå“ç‰Œé¦–é¡µ -->
        <div id="intro-page" class="page active">
            <!-- Hero åŒºåŸŸ -->
            <div class="hero-wrapper" style="position: relative; padding: 40px 0 60px; background: radial-gradient(circle at 10% 30%, rgba(244,162,97,0.03) 0%, transparent 30%), radial-gradient(circle at 90% 70%, rgba(10,37,64,0.02) 0%, transparent 40%); border-radius: 48px; margin-bottom: 40px;">
                <div class="hero-content" style="max-width: 900px; margin: 0 auto; text-align: center;">
                    <h1 style="font-size: 3.5rem; font-weight: 700; line-height: 1.2; margin-bottom: 1.2rem; background: linear-gradient(135deg, #0A2540 0%, #1A3A5F 80%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">è·¨å¢ƒç”µå•†å›½åˆ«é£é™©<span style="background: linear-gradient(145deg, #F4A261, #E76F51); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">è§„é¿æŒ‡å—</span></h1>
                    <div style="font-size: 1.4rem; font-weight: 400; color: #4A6A85; margin-bottom: 1.8rem;">æ·±åº¦èšç„¦å°å°¼ Â· æ²™ç‰¹ Â·æ³¢å…° | å…¨æµç¨‹åœºæ™¯åŒ–åˆè§„é£æ§</div>
                    <p style="font-size: 1.1rem; color: #3E5A70; max-width: 680px; margin: 0 auto 2.2rem; background: rgba(255,255,255,0.7); padding: 20px 28px; border-radius: 60px;">æ•´åˆå®—æ•™æ–‡åŒ–ã€æ³•å¾‹æ³•è§„ä¸å•†ä¸šæ”¿ç­–ï¼Œå°†ç¢ç‰‡åŒ–é£é™©è½¬åŒ–ä¸ºç»“æ„åŒ–æ¸…å•ã€‚AIèµ‹èƒ½ï¼ŒåŠ©æ‚¨åœ¨å•†å“ä¸Šæ¶ã€è¥é”€ã€äº¤æ˜“ç¯èŠ‚ä¸»åŠ¨é¿å‘ã€‚</p>
                    <div style="display: flex; gap: 24px; justify-content: center; margin-bottom: 48px;">
                        <button class="btn btn-primary" onclick="showPage('process-page')">å¼€å§‹å…è´¹æŸ¥è¯¢</button>
                        <button class="btn btn-outline" onclick="openVideoModal()">è§‚çœ‹åœºæ™¯æ¼”ç¤º</button>
                    </div>
                    <div style="display: flex; gap: 28px; justify-content: center; flex-wrap: wrap;">
                        <div style="background: white; padding: 14px 32px; border-radius: 60px; font-weight: 600; font-size: 1.2rem; box-shadow: 0 12px 28px rgba(10,37,64,0.08); border: 1px solid rgba(244,162,97,0.2); display: inline-flex; align-items: center; gap: 12px;"><span style="font-size:1.6rem;">ğŸ‡®ğŸ‡©</span> å°åº¦å°¼è¥¿äºš</div>
                        <div style="background: white; padding: 14px 32px; border-radius: 60px; font-weight: 600; font-size: 1.2rem; box-shadow: 0 12px 28px rgba(10,37,64,0.08); border: 1px solid rgba(244,162,97,0.2); display: inline-flex; align-items: center; gap: 12px;"><span style="font-size:1.6rem;">ğŸ‡¸ğŸ‡¦</span> æ²™ç‰¹é˜¿æ‹‰ä¼¯</div>
                        <div style="background: white; padding: 14px 32px; border-radius: 60px; font-weight: 600; font-size: 1.2rem; box-shadow: 0 12px 28px rgba(10,37,64,0.08); border: 1px solid rgba(244,162,97,0.2); display: inline-flex; align-items: center; gap: 12px;"><span style="font-size:1.6rem;">ğŸ‡µğŸ‡±</span> æ³¢å…°</div>
                    </div>
                </div>
            </div>

            <!-- AIæ™ºèƒ½æ£€æµ‹å·¥å…·äº¤äº’åŒº -->
            <div id="ai-demo" style="background:white; border-radius:32px; padding:32px; margin:60px 0;">
                <h2>AI æ™ºèƒ½æ£€æµ‹å·¥å…·</h2>
                <p style="color:#5A6B7A;">è¾“å…¥å•†å“æ ‡é¢˜æˆ–æè¿°ï¼Œ1åˆ†é’Ÿè¯†åˆ«æ½œåœ¨é£é™©ï¼ˆåŸºäºæ‚¨çš„åˆè§„æ•°æ®åº“ï¼‰</p>
                <div class="ai-uploader">
                    <input type="text" id="ai-input" placeholder="ä¾‹å¦‚ï¼šçœŸä¸å›´å·¾ åŠ¨ç‰©å›¾æ¡ˆ å‡ºå£æ²™ç‰¹">
                    <button class="btn btn-primary" id="ai-detect-btn">æ£€æµ‹é£é™©</button>
                </div>
                <div id="ai-result">
                    <p style="color:#718096;">ğŸ‘† è¾“å…¥å†…å®¹åç‚¹å‡»æ£€æµ‹ï¼Œå°†åŒ¹é…ç°æœ‰é£é™©æ•°æ®åº“</p>
                </div>
            </div>

            <!-- çµæ´»å®šä»·æ–¹æ¡ˆï¼ˆä¸‰ä¸ªå¡ç‰‡ï¼‰ -->
            <div id="pricing-section" style="margin: 80px 0;">
                <h2>çµæ´»å®šä»·æ–¹æ¡ˆ</h2>
                <div class="grid-3">
                    <div class="card">
                        <h3>å…è´¹ç‰ˆ</h3>
                        <div style="font-size:2.5rem; font-weight:700;">Â¥0 <small style="font-size:1rem; color:#718096;">/æ°¸ä¹…</small></div>
                        <ul style="list-style:none; margin:20px 0; color:#3E5A70;">
                            <li><i class="fas fa-check" style="color:#F4A261; margin-right:8px;"></i> åŸºç¡€é£é™©æŸ¥è¯¢ï¼ˆæ¯æœˆ5æ¬¡ï¼‰</li>
                            <li><i class="fas fa-check" style="color:#F4A261; margin-right:8px;"></i> æ¯å‘¨è¡Œä¸šç®€æŠ¥</li>
                            <li><i class="fas fa-check" style="color:#F4A261; margin-right:8px;"></i> å›½åˆ«æ•°æ®åº“ï¼ˆé™å‰3æ¡ï¼‰</li>
                        </ul>
                        <button class="btn btn-outline" style="width:100%;" onclick="alert('å½“å‰ä½¿ç”¨å…è´¹ç‰ˆ')">å½“å‰ä½¿ç”¨</button>
                    </div>
                    <div class="card" style="border:2px solid #F4A261; transform:scale(1.02);">
                        <h3>ä¸“ä¸šä¼šå‘˜ <span style="background:#F4A261; padding:2px 12px; border-radius:40px; font-size:0.8rem;">æ¨è</span></h3>
                        <div style="font-size:2.5rem; font-weight:700;">Â¥49 <small style="font-size:1rem; color:#718096;">/æœˆ</small></div>
                        <ul style="list-style:none; margin:20px 0; color:#3E5A70;">
                            <li><i class="fas fa-check" style="color:#F4A261; margin-right:8px;"></i> AIé£é™©æ£€æµ‹æ— é™æ¬¡</li>
                            <li><i class="fas fa-check" style="color:#F4A261; margin-right:8px;"></i> å®šåˆ¶åŒ–é£æ§æŠ¥å‘Š</li>
                            <li><i class="fas fa-check" style="color:#F4A261; margin-right:8px;"></i> ä¼˜å…ˆæŠ€æœ¯æ”¯æŒ</li>
                        </ul>
                        <button class="btn btn-primary" style="width:100%;" onclick="upgradeMembership('pro')">ç«‹å³è®¢é˜…</button>
                    </div>
                    <div class="card">
                        <h3>ä¼ä¸šç‰ˆ</h3>
                        <div style="font-size:2.5rem; font-weight:700;">è”ç³»é”€å”®</div>
                        <ul style="list-style:none; margin:20px 0; color:#3E5A70;">
                            <li><i class="fas fa-check" style="color:#F4A261; margin-right:8px;"></i> ä¸“å±å¤§å®¢æˆ·ç»ç†</li>
                            <li><i class="fas fa-check" style="color:#F4A261; margin-right:8px;"></i> å¼€æ”¾APIæ¥å£</li>
                            <li><i class="fas fa-check" style="color:#F4A261; margin-right:8px;"></i> ç§æœ‰åŒ–éƒ¨ç½²</li>
                        </ul>
                        <button class="btn btn-outline" style="width:100%;" onclick="alert('è¯·è”ç³»é”€å”®å›¢é˜Ÿï¼šsales@siluerstack.com')">å’¨è¯¢</button>
                    </div>
                </div>
                <!-- æŠ¥å‘Šç”ŸæˆæŒ‰é’®ï¼ˆç™»å½•åå¯è§ï¼‰ -->
                <div id="report-button-container" style="text-align:center; margin-top:30px; display:none;">
                    <button class="btn btn-outline" onclick="generateReport()"><i class="fas fa-file-pdf"></i> ç”Ÿæˆæˆ‘çš„åˆè§„æŠ¥å‘Š</button>
                </div>
            </div>

            <!-- æœ€æ–°èµ„æºä¸æ´å¯Ÿ -->
            <div id="resources-section" style="margin: 80px 0;">
                <h2>æœ€æ–°èµ„æº Â· é¿å‘æŒ‡å—</h2>
                <div class="resources-wrapper">
                    <div class="articles-grid">
                        <div class="article-card">
                            <h3>å°å°¼åŒ–å¦†å“æ ‡ç­¾æ–°è§„æ·±åº¦è§£è¯»</h3>
                            <p>é‡ç‚¹è§£ææˆåˆ†æ ‡æ³¨ä¸è¿›å£å¤‡æ¡ˆæµç¨‹ï¼ŒåŠ©æ‚¨å¿«é€Ÿåˆè§„ã€‚</p>
                            <span class="article-link" onclick="toggleArticleDetail(this)">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… <i class="fas fa-chevron-down"></i></span>
                            <div class="article-detail">
                                <p><strong>æ³•è§„èƒŒæ™¯ï¼š</strong>BPOMè‡ª2025å¹´3æœˆèµ·å¼ºåˆ¶è¦æ±‚ç”µå­æ ‡ç­¾ï¼Œåœ¨çº¿å¤‡æ¡ˆã€‚</p>
                                <p><strong>åˆè§„å»ºè®®ï¼š</strong>ä¸å°å°¼æœ¬åœ°ä»£ç†åˆä½œï¼Œæå‰è®¾è®¡æ ‡ç­¾ã€‚</p>
                            </div>
                        </div>
                        <div class="article-card">
                            <h3>æ²™ç‰¹æ–‹æœˆè¥é”€å¹¿å‘Šé¿é›·æ¸…å•</h3>
                            <p>æ–‡åŒ–ç¦å¿Œä¸å¹¿å‘Šæ³•çº¢çº¿æ¢³ç†ï¼Œè§„é¿è¥é”€é£é™©ã€‚</p>
                            <span class="article-link" onclick="toggleArticleDetail(this)">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… <i class="fas fa-chevron-down"></i></span>
                            <div class="article-detail">
                                <p><strong>æ–‡åŒ–ç¦å¿Œï¼š</strong>æ—¥é—´ç¦æ­¢é£Ÿå“å¹¿å‘Šï¼Œé¿å…å®—æ•™ç¬¦å·ã€‚</p>
                                <p><strong>åˆè§„å»ºè®®ï¼š</strong>æŠ•æ”¾é›†ä¸­åœ¨æ—¥è½åï¼Œå†…å®¹èšç„¦å®¶åº­ã€‚</p>
                            </div>
                        </div>
                        <div class="article-card">
                            <h3>æ¬§ç›ŸCEè®¤è¯å¸¸è§è¯¯åŒºè§£æ</h3>
                            <p>ä»æµ‹è¯•æ ‡å‡†åˆ°å…¬å‘Šå·æœºæ„é€‰æ‹©ï¼Œä¸“å®¶æ‰‹æŠŠæ‰‹æ•™å­¦ã€‚</p>
                            <span class="article-link" onclick="toggleArticleDetail(this)">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… <i class="fas fa-chevron-down"></i></span>
                            <div class="article-detail">
                                <p><strong>è¯¯åŒºï¼š</strong>é«˜é£é™©äº§å“å¿…é¡»å…¬å‘Šæœºæ„è®¤è¯ã€‚</p>
                                <p><strong>å»ºè®®ï¼š</strong>è˜è¯·ä¸“ä¸šå’¨è¯¢ï¼Œä¿ç•™æŠ€æœ¯æ–‡æ¡£ã€‚</p>
                            </div>
                        </div>
                    </div>
                    <div class="wechat-card">
                        <div class="wechat-icon"><i class="fab fa-weixin"></i></div>
                        <h3>å…³æ³¨å…¬ä¼—å· Â· é¢†åˆè§„æ‰‹å†Œ</h3>
                        <div class="wechat-sub">ä¸€æ‰‹èµ„è®¯ Â· ä¸“å®¶è§£è¯»</div>
                        <div class="qr-placeholder">
                            <img src="qrcode.jpg" alt="å…¬ä¼—å·äºŒç»´ç ">
                        </div>
                        <div class="wechat-offer">å…³æ³¨å³é€ã€Šä¸‰å›½åˆè§„é€ŸæŸ¥æ‰‹å†Œã€‹</div>
                        <div class="wechat-desc">
                            ä¸è·¯eæ ˆå…¬ä¼—å·æŒç»­å‘å¸ƒåŸåˆ›æ¨æ–‡ï¼Œæ·±åº¦è§£æå„å›½åˆè§„é£é™©ï¼ŒåŠ©æ‚¨å“ç‰Œå®‰å…¨å‡ºæµ·ã€‚
                        </div>
                        <div class="badge-counter">
                            <i class="fas fa-pen-fancy"></i> ä¸è·¯eæ ˆ Â· è®©ä¸­å›½å“ç‰Œå®‰å…¨å‡ºæµ·
                        </div>
                    </div>
                </div>
            </div>

            <div class="footer">
                <div>Â© 2025 ä¸è·¯eæ ˆ è®©ä¸­å›½å“ç‰Œå®‰å…¨å‡ºæµ·</div>
                <div style="display: flex; gap: 40px;">
                    <div><a style="color:#5A6B7A; text-decoration: none;">æ ¸å¿ƒäº§å“</a></div>
                    <div><a style="color:#5A6B7A; text-decoration: none;">å­¦ä¹ èµ„æº</a></div>
                    <div><a style="color:#5A6B7A; text-decoration: none;">å…³äºæˆ‘ä»¬</a></div>
                </div>
            </div>
        </div>

        <!-- ç¬¬äºŒé¡µï¼šæµç¨‹é€‰æ‹© -->
        <div id="process-page" class="page">
            <h1>è¯·é€‰æ‹©æ‚¨å…³å¿ƒçš„ä¸šåŠ¡ç¯èŠ‚</h1>
            <p class="process-subtitle" style="color:#5A6B7A;">æˆ‘ä»¬å°†é’ˆå¯¹è¯¥ç¯èŠ‚ï¼Œä¸ºæ‚¨åˆ†æç›®æ ‡å¸‚åœºçš„å…·ä½“é£é™©ã€‚</p>
            <div class="process-grid">
                <div class="process-card" onclick="selectProcessAndGo(this, 'å•†å“ä¸Šæ¶ä¸ç¦å”®é£é™©')">
                    <div style="font-size:3rem;">ğŸ“¦</div>
                    <h3>å•†å“ä¸Šæ¶ä¸ç¦å”®</h3>
                    <p>äº§å“å‡†å…¥ã€è®¤è¯ã€æ ‡ç­¾ã€æ–‡åŒ–ç¦å¿Œ</p>
                </div>
                <div class="process-card" onclick="selectProcessAndGo(this, 'è¥é”€ä¸å¹¿å‘Šåˆè§„é£é™©')">
                    <div style="font-size:3rem;">ğŸ“¢</div>
                    <h3>è¥é”€ä¸å¹¿å‘Šåˆè§„</h3>
                    <p>å¹¿å‘Šæ³•ã€å®—æ•™æ•æ„Ÿã€ä¿ƒé”€è§„åˆ™</p>
                </div>
                <div class="process-card" onclick="selectProcessAndGo(this, 'å®¢æˆ·ä¸äº¤æ˜“å±¥è¡Œé£é™©')">
                    <div style="font-size:3rem;">ğŸ¤</div>
                    <h3>å®¢æˆ·ä¸äº¤æ˜“å±¥è¡Œ</h3>
                    <p>æ¶ˆè´¹è€…æƒç›Šã€æ”¯ä»˜ã€ç‰©æµ</p>
                </div>
                <div class="process-card" onclick="selectProcessAndGo(this, 'æ•°æ®ä¸éšç§åˆè§„é£é™©')">
                    <div style="font-size:3rem;">ğŸ”</div>
                    <h3>æ•°æ®ä¸éšç§åˆè§„</h3>
                    <p>GDPRã€æ•°æ®è·¨å¢ƒ</p>
                </div>
                <div class="process-card" onclick="selectProcessAndGo(this, 'çŸ¥è¯†äº§æƒä¸ç¨åŠ¡é£é™©')">
                    <div style="font-size:3rem;">âš–ï¸</div>
                    <h3>çŸ¥è¯†äº§æƒä¸ç¨åŠ¡</h3>
                    <p>å•†æ ‡ä¸“åˆ©ã€VATåˆè§„</p>
                </div>
            </div>
            <div style="display:flex; gap:20px; margin-top:40px;">
                <button class="btn btn-secondary" onclick="showPage('intro-page')">â† è¿”å›é¦–é¡µ</button>
                <button class="btn btn-primary" id="nextToQueryBtn" onclick="goToQueryPage()" disabled>ä¸‹ä¸€æ­¥ï¼šé€‰æ‹©å›½å®¶ â†’</button>
            </div>
        </div>

        <!-- ç¬¬ä¸‰é¡µï¼šæŸ¥è¯¢ä¸ç»“æœé¡µ -->
        <div id="query-page" class="page">
            <div class="query-header">
                <h1>é£é™©è¯¦æƒ…æŸ¥è¯¢</h1>
                <p>æ ¹æ®æ‚¨çš„ä¸šåŠ¡ç¯èŠ‚ï¼Œç²¾å‡†å®šä½ç›®æ ‡å¸‚åœºçš„åˆè§„é£é™©</p>
            </div>

            <div class="process-badge">
                <i class="fas fa-clipboard-check"></i>
                <span>å½“å‰è¯„ä¼°ç¯èŠ‚</span>
                <strong id="current-process-span">æœªé€‰æ‹©</strong>
            </div>

            <div class="query-control-card">
                <div class="query-row">
                    <div class="query-field">
                        <label><i class="fas fa-globe-asia" style="margin-right:8px; color:#F4A261;"></i>ç›®æ ‡å›½å®¶</label>
                        <select id="country-select">
                            <option value="">-- è¯·é€‰æ‹© --</option>
                            <option value="å°åº¦å°¼è¥¿äºš">å°åº¦å°¼è¥¿äºš</option>
                            <option value="æ²™ç‰¹é˜¿æ‹‰ä¼¯">æ²™ç‰¹é˜¿æ‹‰ä¼¯</option>
                            <option value="æ³¢å…°">æ³¢å…°</option>
                            <option value="æ¬§ç›Ÿ">æ¬§ç›Ÿï¼ˆé€šç”¨ï¼‰</option>
                        </select>
                    </div>
                    <div class="query-actions">
                        <button class="btn btn-primary" id="search-btn" onclick="loadAndFilterData()" disabled><i class="fas fa-search"></i> æŸ¥è¯¢é£é™©</button>
                        <button class="btn btn-secondary" onclick="showPage('process-page')"><i class="fas fa-undo-alt"></i> é‡æ–°é€‰æ‹©ç¯èŠ‚</button>
                    </div>
                </div>
            </div>

            <div id="results-container" style="margin-top: 32px;">
                <div class="loading" id="loading" style="display:none; text-align:center; padding:40px;">æ­£åœ¨åŠ è½½é£é™©æ•°æ®åº“...</div>
                <div id="results"></div>
            </div>
        </div>

        <!-- ç¬¬å››é¡µï¼šå›½åˆ«æ•°æ®åº“ -->
        <div id="database-page" class="page">
            <h1>å›½åˆ«é£é™©æ•°æ®åº“</h1>
            <div class="database-layout">
                <div class="filter-sidebar">
                    <div class="filter-group">
                        <label>å…³é”®è¯æœç´¢</label>
                        <input type="text" id="db-search" placeholder="è¾“å…¥å…³é”®è¯..." oninput="filterDatabase()">
                    </div>
                    <div class="filter-group">
                        <label>ç›®æ ‡å›½å®¶</label>
                        <select id="db-country" onchange="filterDatabase()">
                            <option value="">å…¨éƒ¨å›½å®¶</option>
                            <option value="å°åº¦å°¼è¥¿äºš">å°åº¦å°¼è¥¿äºš</option>
                            <option value="æ²™ç‰¹é˜¿æ‹‰ä¼¯">æ²™ç‰¹é˜¿æ‹‰ä¼¯</option>
                            <option value="æ³¢å…°">æ³¢å…°</option>
                            <option value="æ¬§ç›Ÿ">æ¬§ç›Ÿ</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>ä¸šåŠ¡æµç¨‹</label>
                        <select id="db-process" onchange="filterDatabase()">
                            <option value="">å…¨éƒ¨æµç¨‹</option>
                            <option value="å•†å“ä¸Šæ¶ä¸ç¦å”®é£é™©">å•†å“ä¸Šæ¶ä¸ç¦å”®</option>
                            <option value="è¥é”€ä¸å¹¿å‘Šåˆè§„é£é™©">è¥é”€ä¸å¹¿å‘Š</option>
                            <option value="å®¢æˆ·ä¸äº¤æ˜“å±¥è¡Œé£é™©">å®¢æˆ·ä¸äº¤æ˜“</option>
                            <option value="æ•°æ®ä¸éšç§åˆè§„é£é™©">æ•°æ®ä¸éšç§</option>
                            <option value="çŸ¥è¯†äº§æƒä¸ç¨åŠ¡é£é™©">çŸ¥è¯†äº§æƒä¸ç¨åŠ¡</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>é£é™©ç±»å‹</label>
                        <select id="db-type" onchange="filterDatabase()">
                            <option value="">å…¨éƒ¨ç±»å‹</option>
                            <option value="æ³•å¾‹æ³•è§„">æ³•å¾‹æ³•è§„</option>
                            <option value="å®—æ•™æ–‡åŒ–ç¦å¿Œ">å®—æ•™æ–‡åŒ–ç¦å¿Œ</option>
                        </select>
                    </div>
                    <button class="btn btn-outline" style="width:100%;" onclick="resetDatabaseFilters()">é‡ç½®ç­›é€‰</button>
                </div>
                <div class="database-results" id="database-results">
                    <div style="text-align:center; padding:40px;">åŠ è½½æ•°æ®ä¸­...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- è§†é¢‘æ¼”ç¤ºæ¨¡æ€æ¡† -->
    <div id="video-modal" class="modal">
        <div class="modal-content" style="max-width: 800px; padding: 20px;">
            <span class="modal-close" onclick="closeVideoModal()">&times;</span>
            <h3 style="margin-bottom: 20px;">äº§å“æ¼”ç¤ºè§†é¢‘</h3>
            <video id="demo-video" controls width="100%" style="border-radius: 20px;">
                <source src="demo.mp4" type="video/mp4">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ HTML5 è§†é¢‘ï¼Œè¯·å‡çº§æµè§ˆå™¨æˆ–<a href="demo.mp4">ç‚¹å‡»ä¸‹è½½</a>è§‚çœ‹ã€‚
            </video>
        </div>
    </div>

    <!-- æŠ¥å‘Šé¢„è§ˆæ¨¡æ€æ¡†ï¼ˆå¢å¼ºç‰ˆï¼‰ -->
    <div id="report-modal" class="modal">
        <div class="modal-content" style="max-width: 700px; padding: 30px;">
            <span class="modal-close" onclick="closeReportModal()">&times;</span>
            <h2 style="margin-bottom:20px;">ğŸ“Š æ‚¨çš„ä¸ªæ€§åŒ–åˆè§„æŠ¥å‘Š</h2>
            <div id="report-content" style="max-height: 400px; overflow-y: auto; background: #f8f9fa; padding: 20px; border-radius: 16px; margin-bottom: 20px; text-align: left;"></div>
            <button class="btn btn-primary" onclick="window.print()"><i class="fas fa-print"></i> æ‰“å°/ä¿å­˜ä¸ºPDF</button>
        </div>
    </div>

    <!-- å¼•å…¥æ•°æ®æ–‡ä»¶ -->
    <script src="all-risk-data.js"></script>
    <script>
        (function() {
            // ---------- å…¨å±€å˜é‡ ----------
            let currentProcess = '';
            let allData = [];

            if (window.ALL_RISK_DATA && Array.isArray(window.ALL_RISK_DATA)) {
                allData = window.ALL_RISK_DATA;
            } else {
                console.warn('æœªæ‰¾åˆ° window.ALL_RISK_DATAï¼Œä½¿ç”¨åå¤‡æ•°æ®');
                allData = [
                    {ä¸šåŠ¡æµç¨‹:"å•†å“ä¸Šæ¶ä¸ç¦å”®é£é™©",ç›®æ ‡å›½å®¶:"å°åº¦å°¼è¥¿äºš",é£é™©ç±»å‹:"å®—æ•™æ–‡åŒ–ç¦å¿Œ",é£é™©åˆ†ç±»:"å°åº¦å°¼è¥¿äºš",é£é™©è¦ç‚¹:"æ¸…çœŸè®¤è¯ç¼ºå¤±",é£é™©æè¿°:"æœªè·å¾—MUIæ¸…çœŸè®¤è¯",æ³•è§„ä¾æ®:"Halal Product Assurance Law",å¯èƒ½åæœ:"å•†å“ä¸‹æ¶ã€ç½šæ¬¾",åº”å¯¹å»ºè®®:"ç”³è¯·æ¸…çœŸè®¤è¯"},
                    {ä¸šåŠ¡æµç¨‹:"è¥é”€ä¸å¹¿å‘Šåˆè§„é£é™©",ç›®æ ‡å›½å®¶:"æ²™ç‰¹é˜¿æ‹‰ä¼¯",é£é™©ç±»å‹:"å®—æ•™æ–‡åŒ–ç¦å¿Œ",é£é™©åˆ†ç±»:"æ²™ç‰¹é˜¿æ‹‰ä¼¯",é£é™©è¦ç‚¹:"å®—æ•™æ•æ„Ÿè¯",é£é™©æè¿°:"å¹¿å‘Šä¸­å‡ºç°çŒªæˆ–é…’",æ³•è§„ä¾æ®:"Advertising Law",å¯èƒ½åæœ:"é«˜é¢ç½šæ¬¾",åº”å¯¹å»ºè®®:"é¿å…åŠ¨ç‰©å½¢è±¡"},
                ];
            }

            // ========== è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆæ”¯æŒæ¸¸å®¢ï¼‰ ==========
            function getUserInfo() {
                const userStr = localStorage.getItem('user');
                if (userStr) {
                    try {
                        const user = JSON.parse(userStr);
                        let needUpdate = false;
                        if (!user.membership) { user.membership = 'free'; needUpdate = true; }
                        if (user.queryCount === undefined) { user.queryCount = 0; needUpdate = true; }
                        if (needUpdate) localStorage.setItem('user', JSON.stringify(user));
                        return user;
                    } catch { return null; }
                }

                let guest = localStorage.getItem('guest');
                if (guest) {
                    try {
                        guest = JSON.parse(guest);
                        if (!guest.membership) guest.membership = 'free';
                        if (guest.queryCount === undefined) guest.queryCount = 0;
                        return guest;
                    } catch { /* æŸååˆ™é‡æ–°åˆ›å»º */ }
                }
                guest = { membership: 'free', queryCount: 0, isGuest: true };
                localStorage.setItem('guest', JSON.stringify(guest));
                return guest;
            }

            // ========== è®°å½•æŸ¥è¯¢å†å² ==========
            function addQueryHistory(process, country) {
                const user = getUserInfo();
                if (user.isGuest) return; // æ¸¸å®¢ä¸è®°å½•å†å²ï¼ˆå¯é€‰ï¼Œä¹Ÿå¯è®°å½•ï¼‰
                const history = JSON.parse(localStorage.getItem('queryHistory') || '[]');
                history.push({
                    process,
                    country,
                    time: new Date().toLocaleString()
                });
                // ä¿ç•™æœ€è¿‘50æ¡
                if (history.length > 50) history.shift();
                localStorage.setItem('queryHistory', JSON.stringify(history));
            }

            // ========== æ›´æ–°ç™»å½•UI ==========
            function updateAuthUI(username) {
                const greeting = document.getElementById('user-greeting');
                const loginBtn = document.querySelector('.auth-buttons .btn-outline');
                const registerBtn = document.querySelector('.auth-buttons .btn-primary');
                if (greeting) {
                    greeting.innerHTML = `æ¬¢è¿ï¼Œ${username} <button onclick="logout()" style="background:none; border:none; color:#E76F51; cursor:pointer; font-weight:600;">é€€å‡º</button>`;
                    greeting.style.display = 'inline-flex';
                }
                if (loginBtn) loginBtn.style.display = 'none';
                if (registerBtn) registerBtn.style.display = 'none';
                document.getElementById('report-button-container').style.display = 'block';
            }

            window.logout = function() {
                localStorage.removeItem('user');
                localStorage.removeItem('guest');
                location.reload();
            };

            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modal-body');

            window.openLoginModal = function() {
                modalBody.innerHTML = `
                    <h2 style="margin-bottom:20px;">ç™»å½•</h2>
                    <input type="text" id="login-user" placeholder="ç”¨æˆ·å" autocomplete="off">
                    <input type="password" id="login-pwd" placeholder="å¯†ç ">
                    <button class="btn btn-primary" style="width:100%;" onclick="simulateLogin()">ç™»å½•</button>
                `;
                modal.classList.add('active');
            };

            window.openRegisterModal = function() {
                modalBody.innerHTML = `
                    <h2 style="margin-bottom:20px;">æ³¨å†Œ</h2>
                    <input type="text" id="reg-user" placeholder="ç”¨æˆ·å">
                    <input type="email" id="reg-email" placeholder="é‚®ç®±">
                    <input type="password" id="reg-pwd" placeholder="å¯†ç ">
                    <button class="btn btn-primary" style="width:100%;" onclick="simulateRegister()">æ³¨å†Œ</button>
                `;
                modal.classList.add('active');
            };

            window.closeModal = function() { modal.classList.remove('active'); };

            window.simulateLogin = function() {
                const username = document.getElementById('login-user')?.value.trim();
                if (!username) { alert('è¯·è¾“å…¥ç”¨æˆ·å'); return; }
                localStorage.removeItem('guest');
                localStorage.setItem('user', JSON.stringify({ 
                    username, 
                    membership: 'free',
                    queryCount: 0
                }));
                updateAuthUI(username);
                closeModal();
                location.reload();
            };

            window.simulateRegister = function() {
                const username = document.getElementById('reg-user')?.value.trim();
                if (!username) { alert('è¯·è¾“å…¥ç”¨æˆ·å'); return; }
                localStorage.removeItem('guest');
                localStorage.setItem('user', JSON.stringify({ 
                    username, 
                    membership: 'free',
                    queryCount: 0
                }));
                updateAuthUI(username);
                closeModal();
                location.reload();
            };

            function checkLogin() {
                const user = getUserInfo();
                if (user && !user.isGuest) {
                    updateAuthUI(user.username);
                } else {
                    document.getElementById('report-button-container').style.display = 'none';
                }
            }
            checkLogin();

            window.upgradeMembership = function(level) {
                const user = getUserInfo();
                if (!user) { alert('è¯·å…ˆç™»å½•'); openLoginModal(); return; }
                if (user.isGuest) { alert('è¯·å…ˆç™»å½•åå‡çº§ä¼šå‘˜'); openLoginModal(); return; }
                if (level === 'pro') {
                    if (confirm(`ç¡®è®¤å‡çº§ä¸ºä¸“ä¸šä¼šå‘˜ï¼Ÿ(æ¨¡æ‹Ÿæ”¯ä»˜ï¼Œå®é™…ä¸ä¼šæ‰£è´¹)`)) {
                        user.membership = 'pro';
                        user.queryCount = 0;
                        localStorage.setItem('user', JSON.stringify(user));
                        alert('å‡çº§æˆåŠŸï¼æ„Ÿè°¢æ”¯æŒ');
                        location.reload();
                    }
                } else if (level === 'enterprise') {
                    alert('ä¼ä¸šç‰ˆè¯·è”ç³»é”€å”®ï¼šsales@siluerstack.com');
                }
            };

            window.showPage = function(pageId) {
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                document.getElementById(pageId).classList.add('active');
                window.scrollTo(0, 0);
                if (pageId === 'database-page') renderDatabaseCards(allData);
            };

            window.goToSection = function(sectionId) {
                showPage('intro-page');
                setTimeout(() => {
                    const element = document.getElementById(sectionId);
                    if (element) element.scrollIntoView({ behavior: 'smooth' });
                }, 100);
            };

            window.selectProcess = function(cardElement, process) {
                document.querySelectorAll('.process-card').forEach(c => c.classList.remove('selected'));
                cardElement.classList.add('selected');
                currentProcess = process;
                document.getElementById('nextToQueryBtn').disabled = false;
            };

            window.selectProcessAndGo = function(cardElement, process) {
                document.querySelectorAll('.process-card').forEach(c => c.classList.remove('selected'));
                cardElement.classList.add('selected');
                currentProcess = process;
                document.getElementById('current-process-span').textContent = currentProcess;
                document.getElementById('results').innerHTML = '';
                document.getElementById('country-select').selectedIndex = 0;
                document.getElementById('search-btn').disabled = true;
                showPage('query-page');
            };

            window.goToQueryPage = function() {
                if (!currentProcess) return;
                document.getElementById('current-process-span').textContent = currentProcess;
                document.getElementById('results').innerHTML = '';
                document.getElementById('country-select').selectedIndex = 0;
                document.getElementById('search-btn').disabled = true;
                showPage('query-page');
            };

            document.getElementById('country-select')?.addEventListener('change', function() {
                document.getElementById('search-btn').disabled = !this.value;
            });

            // ========== é£é™©æŸ¥è¯¢ ==========
            window.loadAndFilterData = function() {
                const country = document.getElementById('country-select').value;
                const resultsDiv = document.getElementById('results');
                const loadingDiv = document.getElementById('loading');
                if (!currentProcess || !country) { alert('è¯·å®Œæˆé€‰æ‹©'); return; }

                const user = getUserInfo();
                const isFree = user.membership === 'free';

                if (isFree && user.queryCount >= 5) {
                    alert('å…è´¹ç”¨æˆ·æ¯æœˆä»…å¯æŸ¥è¯¢5æ¬¡ï¼Œè¯·å‡çº§ä¸ºä¸“ä¸šä¼šå‘˜ç»§ç»­ä½¿ç”¨ã€‚');
                    return;
                }

                resultsDiv.innerHTML = '';
                loadingDiv.style.display = 'block';
                setTimeout(() => {
                    const filtered = allData.filter(row => row.ä¸šåŠ¡æµç¨‹ === currentProcess && row.ç›®æ ‡å›½å®¶ === country);
                    
                    if (isFree) {
                        user.queryCount++;
                        if (user.isGuest) {
                            localStorage.setItem('guest', JSON.stringify(user));
                        } else {
                            localStorage.setItem('user', JSON.stringify(user));
                        }
                    }

                    // è®°å½•æŸ¥è¯¢å†å²ï¼ˆä»…ç™»å½•ç”¨æˆ·ï¼‰
                    if (!user.isGuest) {
                        addQueryHistory(currentProcess, country);
                    }

                    displayResults(filtered);
                    loadingDiv.style.display = 'none';
                }, 100);
            };

            // ---------- åˆ†é¡µç›¸å…³ ----------
            let __pagedResults = [], __pagedPage = 1, __pagedCountry = '';
            const __pagedPageSize = 5;
            window.__norm = function(v) {
                if (v === null || v === undefined) return "";
                if (typeof v === "number" && Number.isNaN(v)) return "";
                return String(v).replace(/\u00A0/g, " ").trim();
            };

            window.__renderOne = function(item) {
                const title = __norm(item["é£é™©è¦ç‚¹"]) || __norm(item["é£é™©åˆ†ç±»"]) || "é£é™©æç¤º";
                const desc = __norm(item["é£é™©æè¿°"]);
                const law = __norm(item["æ³•è§„ä¾æ®"]);
                const consequence = __norm(item["å¯èƒ½åæœ"]);
                const advice = __norm(item["åº”å¯¹å»ºè®®"]);

                const user = getUserInfo();
                const canConsult = user && user.membership === 'pro';
                const consultButton = canConsult 
                    ? `<button class="btn btn-outline btn-sm" onclick='consultDeepSeek(${JSON.stringify(item).replace(/'/g, "\\'")})'>ğŸ¤– å’¨è¯¢DeepSeek</button>`
                    : `<p style="color:#718096; font-size:0.9rem; margin-top:8px;">å‡çº§ä¼šå‘˜å¯ä½¿ç”¨AIæ·±åº¦å’¨è¯¢</p>`;

                return `
                    <div class="risk-item">
                        <strong>${title}</strong>
                        <p><i class="fas fa-align-left"></i> <span><strong>é£é™©æè¿°:</strong> ${desc || "æš‚æ— "}</span></p>
                        <p><i class="fas fa-gavel"></i> <span><strong>æ³•è§„/ç¦å¿Œä¾æ®:</strong> ${law || "æš‚æ— "}</span></p>
                        <p><i class="fas fa-exclamation-triangle"></i> <span><strong>å¯èƒ½åæœ:</strong> ${consequence || "æš‚æ— "}</span></p>
                        <p><i class="fas fa-lightbulb"></i> <span><strong>åº”å¯¹å»ºè®®:</strong> ${advice || "æš‚æ— "}</span></p>
                        <div style="margin-top:16px;">
                            ${consultButton}
                        </div>
                    </div>
                `;
            };

            window.__renderPager = function() {
                const total = __pagedResults.length;
                const totalPages = Math.max(1, Math.ceil(total / __pagedPageSize));
                if (totalPages <= 1) return "";
                const prevDisabled = (__pagedPage <= 1) ? "disabled" : "";
                const nextDisabled = (__pagedPage >= totalPages) ? "disabled" : "";
                return `
                    <div class="result-pager">
                        <button class="pager-btn" onclick="prevResultPage()" ${prevDisabled}>ä¸Šä¸€é¡µ</button>
                        <span class="pager-info">ç¬¬ ${__pagedPage} / ${totalPages} é¡µ Â· å…±${total}æ¡</span>
                        <button class="pager-btn" onclick="nextResultPage()" ${nextDisabled}>ä¸‹ä¸€é¡µ</button>
                    </div>
                `;
            };

            window.__renderResultsPage = function() {
                const resultsDiv = document.getElementById("results");
                if (!__pagedResults || __pagedResults.length === 0) {
                    resultsDiv.innerHTML = `<h3 style="color:#e76f51;">æœªæ‰¾åˆ°åŒ¹é…ç»“æœ</h3><p>è¯·å°è¯•é€‰æ‹©å…¶ä»–å›½å®¶æˆ–é‡æ–°é€‰æ‹©è¯„ä¼°ç¯èŠ‚ã€‚</p>`;
                    return;
                }
                const total = __pagedResults.length;
                const totalPages = Math.max(1, Math.ceil(total / __pagedPageSize));
                const page = Math.min(Math.max(1, __pagedPage), totalPages);
                __pagedPage = page;
                const start = (page - 1) * __pagedPageSize;
                const end = Math.min(start + __pagedPageSize, total);
                const pageItems = __pagedResults.slice(start, end);
                const header = `<h3>ğŸ“Š æŸ¥è¯¢ç»“æœï¼š ${currentProcess}ï¼ˆ${__pagedCountry}ï¼‰</h3><p>å…±å‘ç° <strong>${total}</strong> æ¡é£é™©æç¤ºï¼š</p>`;
                const cards = pageItems.map(__renderOne).join("");
                resultsDiv.innerHTML = header + __renderPager() + cards + __renderPager();
            };

            window.prevResultPage = function() { if(__pagedPage>1){__pagedPage--;__renderResultsPage();}};
            window.nextResultPage = function() { const totalPages=Math.ceil((__pagedResults?.length||0)/__pagedPageSize); if(__pagedPage<totalPages){__pagedPage++;__renderResultsPage();}};
            window.displayResults = function(data) {
                __pagedResults = data; __pagedPage = 1; __pagedCountry = document.getElementById('country-select').value;
                __renderResultsPage();
            };

            // ========== AIå’¨è¯¢ï¼ˆå¢å¼ºç‰ˆï¼ŒåŒ…å«å›½å®¶æµç¨‹ï¼‰ ==========
            window.consultDeepSeek = function(item) {
                const title = item.é£é™©è¦ç‚¹ || 'é£é™©æç¤º';
                const desc = item.é£é™©æè¿° || '';
                const law = item.æ³•è§„ä¾æ® || '';
                const consequence = item.å¯èƒ½åæœ || '';
                const advice = item.åº”å¯¹å»ºè®® || '';
                const country = item.ç›®æ ‡å›½å®¶ || 'æœªçŸ¥å›½å®¶';
                const process = item.ä¸šåŠ¡æµç¨‹ || 'æœªçŸ¥æµç¨‹';

                const question = `è¯·åˆ†æä»¥ä¸‹é’ˆå¯¹ã€${country}ã€‘çš„ã€${process}ã€‘åˆè§„é£é™©ï¼š
ã€é£é™©è¦ç‚¹ã€‘${title}
ã€é£é™©æè¿°ã€‘${desc}
ã€æ³•è§„/ç¦å¿Œä¾æ®ã€‘${law}
ã€å¯èƒ½åæœã€‘${consequence}
ã€ç°æœ‰å»ºè®®ã€‘${advice}

è¯·æä¾›æ›´è¯¦ç»†çš„èƒŒæ™¯è§£é‡Šã€é’ˆå¯¹è¯¥å›½å®¶/åœºæ™¯çš„åˆè§„å»ºè®®åŠæ³¨æ„äº‹é¡¹ã€‚`;

                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(question).then(() => {
                        alert('é—®é¢˜å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå³å°†æ‰“å¼€DeepSeekå®˜ç½‘ï¼Œè¯·ç²˜è´´æé—®ã€‚');
                        window.open('https://chat.deepseek.com/', '_blank');
                    }).catch(() => {
                        prompt('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ä»¥ä¸‹é—®é¢˜ï¼Œç„¶åæ‰“å¼€DeepSeekå®˜ç½‘ï¼š', question);
                        window.open('https://chat.deepseek.com/', '_blank');
                    });
                } else {
                    prompt('è¯·å¤åˆ¶ä»¥ä¸‹é—®é¢˜ï¼Œç„¶åæ‰“å¼€DeepSeekå®˜ç½‘ï¼š', question);
                    window.open('https://chat.deepseek.com/', '_blank');
                }
            };

            // ========== AIæ£€æµ‹æ¨¡æ‹Ÿ ==========
            document.addEventListener('DOMContentLoaded', function() {
                const detectBtn = document.getElementById('ai-detect-btn');
                if (detectBtn) {
                    detectBtn.addEventListener('click', function() {
                        const input = document.getElementById('ai-input').value.trim();
                        const resultDiv = document.getElementById('ai-result');
                        if (!input) {
                            resultDiv.innerHTML = '<p>è¯·è¾“å…¥å•†å“æ ‡é¢˜æˆ–æè¿°</p>';
                            return;
                        }
                        const lowerInput = input.toLowerCase();
                        let matched = null;
                        if (allData && allData.length) {
                            matched = allData.find(item => {
                                const title = (item.é£é™©è¦ç‚¹ || '').toLowerCase();
                                const desc = (item.é£é™©æè¿° || '').toLowerCase();
                                return title.includes(lowerInput) || desc.includes(lowerInput);
                            });
                        }
                        if (matched) {
                            resultDiv.innerHTML = `
                                <p>âš ï¸ æ£€æµ‹åˆ°æ½œåœ¨é£é™©ï¼š<strong>${matched.é£é™©è¦ç‚¹}</strong></p>
                                <p>ğŸ“Œ é£é™©æè¿°ï¼š${matched.é£é™©æè¿°}</p>
                                <p>ğŸ’¡ åº”å¯¹å»ºè®®ï¼š${matched.åº”å¯¹å»ºè®®}</p>
                                <p style="margin-top:12px;">
                                    <button class="btn btn-outline btn-sm" onclick='consultDeepSeek(${JSON.stringify(matched).replace(/'/g, "\\'")})'>
                                        ğŸ¤– å’¨è¯¢DeepSeek è·å–è¯¦ç»†å»ºè®®
                                    </button>
                                </p>
                            `;
                        } else {
                            resultDiv.innerHTML = '<p>âœ… æœªå‘ç°æ˜æ˜¾é£é™©ã€‚æ‚¨å¯ä»¥å°è¯•å’¨è¯¢DeepSeekè·å–æ›´è¯¦ç»†åˆ†æã€‚</p>';
                        }
                    });
                }
            });

            window.toggleArticleDetail = function(linkElement) {
                const card = linkElement.closest('.article-card');
                const detail = card.querySelector('.article-detail');
                const isActive = detail.classList.contains('active');
                document.querySelectorAll('.article-detail').forEach(d => d.classList.remove('active'));
                document.querySelectorAll('.article-link i').forEach(i => i.className = 'fas fa-chevron-down');
                if (!isActive) {
                    detail.classList.add('active');
                    linkElement.querySelector('i').className = 'fas fa-chevron-up';
                } else {
                    linkElement.querySelector('i').className = 'fas fa-chevron-down';
                }
            };

            // ========== å›½åˆ«æ•°æ®åº“ç­›é€‰ ==========
            window.filterDatabase = function() {
                const keyword = document.getElementById('db-search').value.trim().toLowerCase();
                const country = document.getElementById('db-country').value;
                const process = document.getElementById('db-process').value;
                const type = document.getElementById('db-type').value;
                let filtered = allData.filter(item => {
                    if (country && item.ç›®æ ‡å›½å®¶ !== country) return false;
                    if (process && item.ä¸šåŠ¡æµç¨‹ !== process) return false;
                    if (type) {
                        if (type === 'æ³•å¾‹æ³•è§„' && !(item.é£é™©ç±»å‹ && item.é£é™©ç±»å‹.includes('æ³•å¾‹æ³•è§„'))) return false;
                        if (type === 'å®—æ•™æ–‡åŒ–ç¦å¿Œ' && !(item.é£é™©ç±»å‹ && item.é£é™©ç±»å‹.includes('å®—æ•™'))) return false;
                    }
                    if (keyword) {
                        const fields = [item.é£é™©è¦ç‚¹, item.é£é™©æè¿°, item.æ³•è§„ä¾æ®, item.åº”å¯¹å»ºè®®].map(f => (f || '').toLowerCase());
                        if (!fields.some(f => f.includes(keyword))) return false;
                    }
                    return true;
                });
                renderDatabaseCards(filtered);
            };

            window.resetDatabaseFilters = function() {
                document.getElementById('db-search').value = '';
                document.getElementById('db-country').value = '';
                document.getElementById('db-process').value = '';
                document.getElementById('db-type').value = '';
                renderDatabaseCards(allData);
            };

            function renderDatabaseCards(data) {
                const container = document.getElementById('database-results');
                if (!data || data.length === 0) {
                    container.innerHTML = '<div style="text-align:center; padding:40px;">æš‚æ— åŒ¹é…é£é™©æ¡ç›®</div>';
                    return;
                }

                const user = getUserInfo();
                const isFree = user.membership === 'free';
                let displayData = data;
                let limitMessage = '';

                if (isFree) {
                    displayData = data.slice(0, 3);
                    if (data.length > 3) {
                        limitMessage = `<p style="color:#E76F51; text-align:center; margin-top:20px;">å…è´¹ç”¨æˆ·ä»…æ˜¾ç¤ºå‰3æ¡ï¼Œå‡çº§ä¸“ä¸šä¼šå‘˜æŸ¥çœ‹å…¨éƒ¨ ${data.length} æ¡é£é™©</p>`;
                    }
                }

                let html = '';
                displayData.forEach(item => {
                    html += `
                        <div class="database-card">
                            <h4>${item.é£é™©è¦ç‚¹ || 'æœªå‘½åé£é™©'}</h4>
                            <p><strong>å›½å®¶ï¼š</strong>${item.ç›®æ ‡å›½å®¶ || 'æœªçŸ¥'}</p>
                            <p><strong>æµç¨‹ï¼š</strong>${item.ä¸šåŠ¡æµç¨‹ || 'æœªçŸ¥'}</p>
                            <p><strong>é£é™©æè¿°ï¼š</strong>${item.é£é™©æè¿° || 'æ— '}</p>
                            <p><strong>åº”å¯¹å»ºè®®ï¼š</strong>${item.åº”å¯¹å»ºè®® || 'æ— '}</p>
                            <div class="meta">
                                <span>âš–ï¸ ${item.æ³•è§„ä¾æ® || 'æ— '}</span>
                                <span>ğŸš¨ ${item.å¯èƒ½åæœ || 'æ— '}</span>
                            </div>
                            ${!isFree ? `<button class="btn btn-outline btn-sm" style="margin-top:12px;" onclick='consultDeepSeek(${JSON.stringify(item).replace(/'/g, "\\'")})'>ğŸ¤– å’¨è¯¢DeepSeek</button>` : ''}
                        </div>
                    `;
                });
                html += limitMessage;
                container.innerHTML = html;
            }

            // ========== ç”Ÿæˆä¸ªæ€§åŒ–åˆè§„æŠ¥å‘Šï¼ˆå¢å¼ºç‰ˆï¼‰ ==========
            window.generateReport = function() {
                const user = getUserInfo();
                if (!user || user.isGuest) {
                    alert('è¯·å…ˆç™»å½•åæŸ¥çœ‹æŠ¥å‘Š');
                    openLoginModal();
                    return;
                }

                const history = JSON.parse(localStorage.getItem('queryHistory') || '[]');
                const totalQueries = user.queryCount;
                
                // æŒ‰å›½å®¶ç»Ÿè®¡
                const countryStats = {};
                const processStats = {};
                history.forEach(item => {
                    countryStats[item.country] = (countryStats[item.country] || 0) + 1;
                    processStats[item.process] = (processStats[item.process] || 0) + 1;
                });

                const countryRows = Object.entries(countryStats).map(([c, cnt]) => `<li>${c}ï¼š${cnt}æ¬¡</li>`).join('');
                const processRows = Object.entries(processStats).map(([p, cnt]) => `<li>${p}ï¼š${cnt}æ¬¡</li>`).join('');

                const recent = history.slice(-5).reverse().map(item => 
                    `<li>${item.time} - ${item.country} Â· ${item.process}</li>`
                ).join('');

                const reportHTML = `
                    <h3>ğŸ“… æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString()}</h3>
                    <p><strong>ğŸ‘¤ ç”¨æˆ·åï¼š</strong>${user.username}</p>
                    <p><strong>â­ ä¼šå‘˜ç­‰çº§ï¼š</strong>${user.membership === 'pro' ? 'ä¸“ä¸šä¼šå‘˜' : 'å…è´¹ä¼šå‘˜'}</p>
                    <p><strong>ğŸ”¢ æœ¬æœˆç´¯è®¡æŸ¥è¯¢æ¬¡æ•°ï¼š</strong>${totalQueries}</p>
                    
                    <h4 style="margin-top:15px;">ğŸŒ æŒ‰å›½å®¶åˆ†å¸ƒ</h4>
                    <ul>${countryRows || '<li>æš‚æ— æ•°æ®</li>'}</ul>

                    <h4>ğŸ“‹ æŒ‰ä¸šåŠ¡æµç¨‹åˆ†å¸ƒ</h4>
                    <ul>${processRows || '<li>æš‚æ— æ•°æ®</li>'}</ul>

                    <h4>ğŸ•’ æœ€è¿‘5æ¬¡æŸ¥è¯¢</h4>
                    <ul>${recent || '<li>æš‚æ— è®°å½•</li>'}</ul>

                    <p style="color:#718096; margin-top:15px;">æ³¨ï¼šæœ¬æŠ¥å‘ŠåŸºäºæ‚¨çš„çœŸå®æŸ¥è¯¢å†å²ç”Ÿæˆï¼Œå¯ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ‰“å°æˆ–ä¿å­˜ä¸ºPDFã€‚</p>
                `;
                document.getElementById('report-content').innerHTML = reportHTML;
                document.getElementById('report-modal').classList.add('active');
            };

            window.closeReportModal = function() {
                document.getElementById('report-modal').classList.remove('active');
            };

            window.openVideoModal = function() {
                const modal = document.getElementById('video-modal');
                const video = document.getElementById('demo-video');
                if (modal && video) {
                    modal.classList.add('active');
                    video.play().catch(e => console.log('è‡ªåŠ¨æ’­æ”¾å¤±è´¥', e));
                }
            };

            window.closeVideoModal = function() {
                const modal = document.getElementById('video-modal');
                const video = document.getElementById('demo-video');
                if (modal && video) {
                    modal.classList.remove('active');
                    video.pause();
                    video.currentTime = 0;
                }
            };
        })();
    </script>
</body>
</html>
